<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<html lang="fr">
	<head>
		<title>Tachyon</title>
		<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
		<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
	</head>
	<body>
		<h1 style="text-align: center;">
			Tachyon
		</h1>

		<div style="border: 1px solid black; margin-right: 3%; text-align: center; margin-bottom: 5%;">
			<form id="programForm"><br>
				<label for="nomProgramme">Nom du Programme:</label><br>
				<input type="text" id="nomProgramme" name="nomProgramme"><br><br>
				<label for="langage">Langage de Programmation :</label><br>
				<select id="langage" name="langage">
					<option value="">Choisissez un langage</option>
				</select><br><br>
				<label for="description">Description:</label><br>
				<textarea id="description" name="description"></textarea><br><br>
				<label for="codeProgramme">Code du Programme:</label><br>
				<textarea id="codeProgramme" name="codeProgramme"></textarea><br><br>
				<button type="submit">Enregistrer</button><br><br>
			</form>
		</div>

		<div style="background-color: #cccccc; overflow: auto; white-space: nowrap; width: 100%;">
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonC">
				C
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonCpp">
				C++
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonKotlin">
				Kotlin
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonLatex">
				LaTeX
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonLignesDeCommandes">
				Ligne de commandes
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonPython">
				Python
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonShell">
				Shell
			</div>
			<div style="display: inline-block; text-decoration: none; text-align: center; padding: 12px; font-size: 20px; cursor: pointer;" id="boutonWeb">
				Web
			</div>
		</div>

		<div style="display: flex; flex-direction: column; justify-content: center;">
			<div id="divC" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					C
				</h3>
			</div>

			<div id="divCpp" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					C++
				</h3>
			</div>

			<div id="divKotlin" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					Kotlin
				</h3>
			</div>

			<div id="divLatex" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					LaTeX
				</h3>
			</div>

			<div id="divLignesDeCommandes" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					Lignes de commandes
				</h3>
			</div>

			<div id="divPython" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					Python
				</h3>
			</div>

			<div id="divShell" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					Shell
				</h3>
			</div>

			<div id="divWeb" style=" border: 1px solid black; width: 70%; margin: auto; margin-top: 50px; display: none;">
				<h3 style="text-align: center;">
					Web
				</h3>
			</div>
		</div>

		<div style="margin: 30px 0 0 0; background-color: black;">
			<div>
				<h3 style="text-align: center; color: white;">
					Tachyon sur votre téléphone...
				</h3>

				<div style="display: flex; justify-content: space-around;">
					<a href="Application/app-debug.apk" style="text-decoration: none; color: white; width: 50px; height: 50px; border: 0; cursor: pointer;">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
							<path d="M16.61 15.15C16.15 15.15 15.77 14.78 15.77 14.32S16.15 13.5 16.61 13.5H16.61C17.07 13.5 17.45 13.86 17.45 14.32C17.45 14.78 17.07 15.15 16.61 15.15M7.41 15.15C6.95 15.15 6.57 14.78 6.57 14.32C6.57 13.86 6.95 13.5 7.41 13.5H7.41C7.87 13.5 8.24 13.86 8.24 14.32C8.24 14.78 7.87 15.15 7.41 15.15M16.91 10.14L18.58 7.26C18.67 7.09 18.61 6.88 18.45 6.79C18.28 6.69 18.07 6.75 18 6.92L16.29 9.83C14.95 9.22 13.5 8.9 12 8.91C10.47 8.91 9 9.24 7.73 9.82L6.04 6.91C5.95 6.74 5.74 6.68 5.57 6.78C5.4 6.87 5.35 7.08 5.44 7.25L7.1 10.13C4.25 11.69 2.29 14.58 2 18H22C21.72 14.59 19.77 11.7 16.91 10.14H16.91Z" style="fill: white;" />
						</svg>
					</a>
					<a href="Application/app-debug.apk" style="text-decoration: none; color: white; width: 50px; height: 50px; border: 0; cursor: pointer;">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
							<path d="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z" style="fill: white;" />
						</svg>
					</a>
				</div>
			</div>
		</div>

		<script src="../Scripts/hbvebvhezvkbzjvkzjv.js"></script>

		<script>
			firebase.initializeApp(firebaseConfig);
		
			const db = firebase.firestore();
		
			// Soumission du formulaire
			document.getElementById('programForm').addEventListener('submit', function(event) {
				event.preventDefault(); // Empêcher le formulaire de se soumettre normalement
		
				// Récupération des valeurs du formulaire
				const nomProgramme = document.getElementById('nomProgramme').value;
				const description = document.getElementById('description').value;
				const codeProgramme = document.getElementById('codeProgramme').value;
				const langage = document.getElementById('langage').value;
		
				// Envoi des données à Firebase
				db.collection('Codes').doc(langage).collection(langage).add({
					Nom: nomProgramme,
					Description: description,
					Code: codeProgramme
				}).then(function() {
					console.log("Données envoyées avec succès !");
					// Effacer le formulaire après l'envoi
					document.getElementById('programForm').reset();
				}).catch(function(error) {
					console.error("Erreur d'envoi des données:", error);
				});
			});
		</script>

		<script>
			// Récupération des langages de programmation depuis Firestore
			db.collection('Codes').get().then(querySnapshot => {
				const langageSelect = document.getElementById('langage');

				querySnapshot.forEach(doc => {
					// Pour chaque document dans la collection "Codes", créez une option dans la liste déroulante
					const option = document.createElement('option');
					option.value = doc.id; // Utilisez l'ID du document comme valeur de l'option
					option.textContent = doc.id; // Utilisez le nom du document comme texte de l'option
					langageSelect.appendChild(option);
				});
			}).catch(error => {
				console.error("Erreur lors de la récupération des langages de programmation :", error);
			});
		</script>

		<script>
			const c = document.getElementById('divC');
			const boutonC = document.getElementById('boutonC');
			const cpp = document.getElementById('divCpp');
			const boutonCpp = document.getElementById('boutonCpp');
			const kotlin = document.getElementById('divKotlin');
			const boutonKotlin = document.getElementById('boutonKotlin');
			const latex = document.getElementById('divLatex');
			const boutonLatex = document.getElementById('boutonLatex');
			const lignesDeCommandes = document.getElementById('divLignesDeCommandes');
			const boutonLignesDeCommandes = document.getElementById('boutonLignesDeCommandes');
			const python = document.getElementById('divPython');
			const boutonPython = document.getElementById('boutonPython');
			const shell = document.getElementById('divShell');
			const boutonShell = document.getElementById('boutonShell');
			const web = document.getElementById('divWeb');
			const boutonWeb = document.getElementById('boutonWeb');

			boutonC.addEventListener('click', function() {
				if (c.style.display === 'none') {
					c.style.display = 'block';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonCpp.addEventListener('click', function() {
				if (cpp.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'block';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonKotlin.addEventListener('click', function() {
				if (kotlin.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'block';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonLatex.addEventListener('click', function() {
				if (latex.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'block';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonLignesDeCommandes.addEventListener('click', function() {
				if (lignesDeCommandes.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'block';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonPython.addEventListener('click', function() {
				if (python.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'block';
					shell.style.display = 'none';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonShell.addEventListener('click', function() {
				if (shell.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'block';
					web.style.display = 'none';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});

			boutonWeb.addEventListener('click', function() {
				if (web.style.display === 'none') {
					c.style.display = "none";
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'block';
				} else {
					c.style.display = 'none';
					cpp.style.display = 'none';
					kotlin.style.display = 'none';
					latex.style.display = 'none';
					lignesDeCommandes.style.display = 'none';
					python.style.display = 'none';
					shell.style.display = 'none';
					web.style.display = 'none';
				}
			});
		</script>

		<script>
			var langages = {
				divC: "C",
				divCpp: "C++",
				divKotlin: "Kotlin",
				divLatex: "LaTeX",
				divLignesDeCommandes: "Ligne de commande",
				divPython: "Python",
				divShell: "Shell",
				divWeb: "Web"
			};
		
			// Fonction pour récupérer la liste des IDs pour un langage donné
			function getIDsForLanguage(langage) {
				const path = 'Codes/' + langage + '/' + langage;
				return db.collection(path).get().then((querySnapshot) => {
					const ids = [];
					querySnapshot.forEach((doc) => {
						ids.push(doc.id);
					});
					return ids;
				}).catch((error) => {
					console.log("Error getting documents:", error);
				});
			}
		
			// Fonction pour récupérer les données à partir d'un chemin spécifique dans Firestore et les afficher
			function fetchDataFromFirestore(path, div, langage) {
				db.doc(path).get().then((doc) => {
					if (doc.exists) {
						const data = doc.data();
						const nom = data.Nom;
						const description = data.Description;
						const code = data.Code;
		
						const html = `
							<p>Nom: ${nom}</p>
							<p>Description: ${description}</p>
							<p>Code:</p>
							<pre><code>${code}</code></pre> <!-- Utilisation de balises pre et code pour conserver la mise en forme -->
							<hr>
						`;
		
						div.innerHTML += html;
					} else {
						console.log("No such document!");
					}
				}).catch((error) => {
					console.log("Error getting document:", error);
				});
			}
		
			// Fonction pour récupérer les données et afficher dans la div associée à chaque langage
			async function fetchDataAndDisplay() {
				for (const [divID, langage] of Object.entries(langages)) {
					const divElement = document.getElementById(divID);
					const ids = await getIDsForLanguage(langage);
					ids.forEach((docID) => {
						const path = 'Codes/' + langage + '/' + langage + '/' + docID;
						fetchDataFromFirestore(path, divElement, langage);
					});
				}
			}
		
			// Appeler fetchDataAndDisplay
			fetchDataAndDisplay();
		</script>
		
	</body>
</html>
