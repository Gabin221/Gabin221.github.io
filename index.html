<!DOCTYPE html>
<html>
	<head>
		<title>Gabin's bar</title>
		<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
		<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
		<style>
				.container {
					background-color: #cccccc;
					overflow: auto;
					white-space: nowrap; 
					width: 100%;	  
				} 
				a {
					display: inline-block;
					text-decoration: none;
					text-align: center;
					padding: 12px;
					font-size: 20px;
				}
				a:hover{
					background-color: green;
				}	
		</style>
	</head>
	<body>
		<h1 style="text-align: center;">Gabin's bar</h1>

		<div class="container">
			<a href="#">Sirops</a>
			<a href="#">Softs</a>
			<a href="#">Bières</a>
			<a href="#">Vins</a>
			<a href="#">Classiques</a>
			<a href="#">Extravagants</a>
		</div>

		<script src="Scripts/hbvebvhezvkbzjvkzjv.js"></script>

		<script>		
			firebase.initializeApp(firebaseConfig);

			const db = firebase.firestore();

			// Récupérer une référence à la collection principale "boissons"
			const boissonsRef = db.collection("boissons");

			// Récupérer toutes les données de la collection principale "boissons"
			boissonsRef.get().then((querySnapshot) => {
				querySnapshot.forEach((doc) => {
					// doc.id contient l'identifiant de la sous-collection (par exemple, "biere", "sirop")
					console.log("Sous-collection :", doc.id);

					// Pour chaque sous-collection, récupérer une référence à la collection correspondante
					const subCollectionRef = boissonsRef.doc(doc.id).collection(doc.id);

					// Récupérer tous les documents de la sous-collection
					subCollectionRef.get().then((subCollectionSnapshot) => {
						subCollectionSnapshot.forEach((subDoc) => {
							// subDoc.id contient l'identifiant du document (par exemple, "1664", "Grim", "Fraise", "Orgeat")
							console.log("Document :", subDoc.id);
							// subDoc.data() contient les données du document
							console.log("Données :", subDoc.data());
						});

						// Ajouter un log pour vérifier si des documents ont été récupérés
						if (subCollectionSnapshot.empty) {
							console.log("Aucun document trouvé dans la sous-collection", doc.id);
						}
					}).catch((error) => {
						console.log("Erreur lors de la récupération des documents de la sous-collection", doc.id, ":", error);
					});
				});
			}).catch((error) => {
				console.log("Erreur lors de la lecture des données :", error);
			});
		</script>
		
	</body>
</html>